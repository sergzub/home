# Need for PuTTY
set -g terminal-overrides "xterm*:kLFT5=\eOD:kRIT5=\eOC:kUP5=\eOA:kDN5=\eOB:smkx@:rmkx@"

# Reload config file
bind r source-file ~/.tmux.conf \; \
    display-message "source-file done"

# Main Settings  --------------------------------------------------------------
set -g display-panes-time 2000                          # on-screen time for display-panes in ms

set -g set-titles on                                    # enable wm window titles
set -g set-titles-string "tmux.#I.#W"                   # wm window title string (uses statusbar variables) 

set -g base-index 1                                     # start window indexing at one instead of zero

set -g history-limit 5000                               # scrollback buffer n lines

set -g bell-action any                                  # listen for activity on all windows

setw -g monitor-activity on                             # Notify if other windows have activity
set -g visual-activity on                               # Show status message when activity

bind k confirm kill-window                          # Confirm before killing window
bind K confirm kill-server                          # Confirm before killing server 

# Enable mouse mode (tmux 2.1 and above)
set -g mouse on

# Keybindings -----------------------------------------------------------------
# remap prefix to Control + q
unbind C-b                                              # Unbinding default combination
set -g prefix C-q                                       # Set new default - Ctrl-q 
bind C-q send-prefix                                    # bind 'C-q C-q' to type 'C-q'

# Navigation on command line, and window list like with vi keybindings
#set -g status-keys vi
#setw -g mode-keys vi 

#bind -n C-n next                                    # Next tab
#bind -n C-p prev                                    # Previous tab

# Switch panes using Ctrl-<arrows> without prefix
# bind -n M-Left  select-pane -L
# bind -n M-Right select-pane -R
# bind -n M-Up    select-pane -U
# bind -n M-Down  select-pane -D

bind -n C-Left  select-pane -L
bind -n C-Right select-pane -R
bind -n C-Up    select-pane -U
bind -n C-Down  select-pane -D

#bind b set-option status                            # toggle statusbar 

# Don't rename windows automatically
set-option -g allow-rename off

# Splitting windows
unbind %                                                # Unbinding default horizontal split key
bind | split-window -h
unbind '"'                                              # Unbinding default vertical split key
bind _ split-window -v

# resize panes like vim
# feel free to change the "1" to however many lines you want to resize by, only
# one at a time can be slow
#bind < resize-pane -L 1
#bind > resize-pane -R 1
#bind - resize-pane -D 1
#bind + resize-pane -U 1

# Selecting windows by Fn keys
bind -n F1 select-window -t 1
bind -n F2 select-window -t 2
bind -n F3 select-window -t 3
bind -n F4 select-window -t 4
bind -n F5 select-window -t 5
bind -n F6 select-window -t 6
bind -n F7 select-window -t 7
bind -n F8 select-window -t 8
bind -n F9 select-window -t 9

# Statusbar -------------------------------------------------------------------
set -g display-time 2000                                # Set the amount time of diplaying status messages and on-screen indicators
set -g status-left '#[fg=green]#H#[default]'
set -g status-right '#[fg=yellow]#(cut -d " " -f 1-4 /proc/loadavg)#[default] #[fg=cyan,bold]%Y-%m-%d %H:%M#[default]'

# Colors  ---------------------------------------------------------------------
# default statusbar colors
set -g status-fg white
set -g status-bg default
set -g status-attr default

# default window title colors
set-window-option -g window-status-fg cyan
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg white
set-window-option -g window-status-current-bg default   # Highlithing the active window in status bar
set-window-option -g window-status-current-attr bright

# command/message line colors
set -g message-fg white
set -g message-bg black
set -g message-attr bright
